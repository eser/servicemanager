var t,n=null;function r(){return n}function e(t,n,r,e){return new(r||(r=Promise))(function(o,u){function i(t){try{c(e.next(t))}catch(t){u(t)}}function a(t){try{c(e.throw(t))}catch(t){u(t)}}function c(t){t.done?o(t.value):new r(function(n){n(t.value)}).then(i,a)}c((e=e.apply(t,n||[])).next())})}function o(t,n){var r,e,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,e&&(o=2&u[0]?e.return:u[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,e=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t],e=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function u(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,o,u=r.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(e=u.next()).done;)i.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}return i}function i(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(u(arguments[n]));return t}function a(t){return Array.from(t.keys())}function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length||t[0].constructor!==Function)return new Map(t);var r=new Map;return t[0](r),r}function l(n,r){var e=n.get(r);if(void 0!==e)return e.type!==t.Singleton&&e.target instanceof Function?e.target():e.target}function f(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.map(function(n){return l(t,n)})}function p(t,n,r){return e(this,void 0,void 0,function(){var e,u;return o(this,function(o){switch(o.label){case 0:return e=f.apply(void 0,i([t],n)),[4,Promise.all(e)];case 1:return u=o.sent(),[4,r.apply(void 0,i(u))];case 2:return[2,o.sent()]}})})}function s(t,n){var r,e,o=[];try{for(var i=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],r=0;return n?n.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}(t.entries()),a=i.next();!a.done;a=i.next()){var c=u(a.value,2),l=c[0];n(c[1],l)&&o.push(l)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return o}function y(t,n){return s(t,function(t){return t.tags.indexOf(n)>=0})}!function(t){t.Factory="factory",t.Singleton="singleton"}(t||(t={}));var h=function(){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.map=c.apply(void 0,i(t))}return t.prototype.get=function(t){return l(this.map,t)},t.prototype.getRange=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return f.apply(void 0,i([this.map],t))},t.prototype.ensure=function(t,n){return e(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,p(this.map,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.all=function(){return a(this.map)},t.prototype.filter=function(t){return s(this.map,t)},t.prototype.filterByTag=function(t){return y(this.map,t)},t}();function v(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=new(h.bind.apply(h,i([void 0],t)));return function(t){null===n&&(n=t)}(e),e}function g(n,r){return{target:n,type:t.Singleton,tags:r||[]}}function d(n,r){return{target:n,type:t.Factory,tags:r||[]}}export default r;export{h as ServiceContext,t as ServiceType,a as all,v as createContext,c as createMap,p as ensure,d as factory,s as filter,y as filterByTag,l as get,f as getRange,g as singleton,r as useServiceManager};
